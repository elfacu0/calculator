(this.webpackJsonpcalculator=this.webpackJsonpcalculator||[]).push([[0],{10:function(e,t,n){e.exports=n(16)},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(5),u=n.n(a),s=n(1),o=n(2),c=n(3),l=n(8),d=n(9),h=["*","/","+"],p=function(){function e(){var t=this;Object(l.a)(this,e),this.result=void 0,this.expression=void 0,this.currentTerm=void 0,this.lastDigit=void 0,this.dispatch=function(e){switch(e.type){case"addNegative":return t.addNegative();case"addNumber":return t.addNumber(e.value);case"addOperator":return t.addOperator(e.value);case"removeLastDigit":return t.removeLastDigit();case"calculate":return t.calculate(t.expression);case"clearAll":return t.reset();default:return""}},this.result="",this.expression=[],this.currentTerm="",this.lastDigit=""}return Object(d.a)(e,[{key:"addNegative",value:function(){return"-"!==this.lastDigit&&"."!==this.lastDigit&&(this.currentTerm="-",this.expression.push(this.currentTerm),this.setLastDigit()),this.expression.join("")}},{key:"addNumber",value:function(e){return"."===e&&this.currentTerm.includes(".")||(!1===this.isLastDigitOperator()&&this.expression.pop(),this.currentTerm+=e,this.expression.push(this.currentTerm),this.setLastDigit()),this.expression.join("")}},{key:"addOperator",value:function(e){return!0===this.isLastDigitNumber()&&(this.expression.push(e),this.currentTerm="",this.setLastDigit()),this.expression.join("")}},{key:"removeLastDigit",value:function(){if(this.expression.length>0){var e=this.expression.pop()||"";e=e.substring(0,e.length-1),this.currentTerm=e,this.setLastDigit(),""!==this.currentTerm&&this.expression.push(e)}return this.expression.join("")}},{key:"calculate",value:function(e){for(;!1===this.isLastDigitNumber()&&""!==this.lastDigit;)e.pop(),this.setLastDigit();return e=this.multiplyAndDivide(e),this.result=this.sum(e).toString(),this.clearExpression(),this.result}},{key:"multiplyAndDivide",value:function(e){for(var t=0,n=0,r="",i=[],a=[],u=["*","/"];n<e.length-1;)i.push(e[n]),!0===u.includes(e[n+1])&&("*"===e[n+1]?t=Number(e[n])*Number(e[n+2]):"/"===e[n+1]&&(t=Number(e[n])/Number(e[n+2])),r=t.toString(),i.pop(),a=e.slice(n+3,e.length),e=i,i=[],e.push(r),e=e.concat(a),n=-1),n++;return e}},{key:"sum",value:function(e){for(var t=0,n=0,r=0;r<e.length;r++)n=Number(e[r]),!1===h.includes(e[r])&&(t+=n);return t}},{key:"isLastDigitOperator",value:function(){return this.setLastDigit(),!0===h.includes(this.lastDigit)}},{key:"isLastDigitNumber",value:function(){return this.setLastDigit(),!0===["0","1","2","3","4","5","6","7","8","9"].includes(this.lastDigit)}},{key:"setLastDigit",value:function(){if(this.expression.length>0){var e=this.expression[this.expression.length-1];this.lastDigit=e[e.length-1]}}},{key:"clearExpression",value:function(){this.expression=[this.result],this.currentTerm="",this.lastDigit=""}},{key:"reset",value:function(){return this.result="",this.expression=[],this.currentTerm="",this.lastDigit="",""}}]),e}();function m(){var e=Object(s.a)(["\n    background-color: ",";\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: #e8e8e8;\n    font-size: 26px;\n    border-radius: 5px;\n    margin: 10px;\n    height: 100%;\n    cursor: pointer;\n    &:hover {\n        background-color: #00d4d4;\n    }\n"]);return m=function(){return e},e}function f(){var e=Object(s.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    width: 100%;\n"]);return f=function(){return e},e}function v(){var e=Object(s.a)(["\n    background-color: #212123;\n    width: 100%;\n    height: 100%;\n    display: grid;\n    grid-template-columns: auto auto auto auto;\n"]);return v=function(){return e},e}function g(){var e=Object(s.a)(["\n    color: lightgray;\n    font-size: 30px;\n"]);return g=function(){return e},e}function y(){var e=Object(s.a)(["\n    color: white;\n    font-size: 28px;\n    height: 50%;\n    white-space: nowrap;\n    text-align-last: end;\n"]);return y=function(){return e},e}function b(){var e=Object(s.a)(["\n    background-color: #2b292a;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n    justify-content: space-around;\n    padding: 20px;\n    width: 100%;\n    height: 30%;\n    overflow: hidden;\n"]);return b=function(){return e},e}function k(){var e=Object(s.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 550px;\n    min-width: 320px;\n    width: 35vw;\n    max-width: 700px;\n    &:focus {\n        outline: none;\n    }\n"]);return k=function(){return e},e}var x=o.a.div(k()),D=o.a.div(b()),E=o.a.span(y()),O=Object(o.a)(E)(g()),j=o.a.div(v()),N=o.a.div(f()),w=o.a.div(m(),(function(e){return 1===e.operator?"#193543":"#343434"})),L=function(){var e=Object(r.useState)(new p),t=Object(c.a)(e,1)[0],n=Object(r.useState)(new Date),a=Object(c.a)(n,2),u=a[0],s=a[1],o=Object(r.useState)(""),l=Object(c.a)(o,2),d=l[0],h=l[1],m=Object(r.useState)(""),f=Object(c.a)(m,2),v=f[0],g=f[1],y=Object(r.useRef)(null);Object(r.useEffect)((function(){null!==y.current&&y.current.focus()}),[]);var b=function(e){h(t.dispatch(e))},k=function(e){g(t.dispatch(e)),h(t.result)};return i.a.createElement(x,{tabIndex:0,onKeyDown:function(e){return function(e){return["0",".","1","2","3","4","5","6","7","8","9"].includes(e.key)?b({type:"addNumber",value:e.key}):["*","/","+"].includes(e.key)?b({type:"addOperator",value:e.key}):"-"===e.key?b({type:"addNegative",value:e.key}):"Backspace"===e.key?b({type:"removeLastDigit"}):"Enter"===e.key?k({type:"calculate"}):void 0}(e)},ref:y,"data-testid":"calculator-container"},i.a.createElement(D,null,i.a.createElement(E,{"data-testid":"expression"},d),i.a.createElement(O,{"data-testid":"result"},v)),i.a.createElement(j,null,i.a.createElement(N,null,i.a.createElement(w,{onClick:function(){return b({type:"addNumber",value:"7"})}},"7"),i.a.createElement(w,{onClick:function(){return b({type:"addNumber",value:"4"})}},"4"),i.a.createElement(w,{onClick:function(){return b({type:"addNumber",value:"1"})}},"1"),i.a.createElement(w,{onClick:function(){return b({type:"addNumber",value:"."})}},".")),i.a.createElement(N,null,i.a.createElement(w,{onClick:function(){return b({type:"addNumber",value:"8"})}},"8"),i.a.createElement(w,{onClick:function(){return b({type:"addNumber",value:"5"})}},"5"),i.a.createElement(w,{onClick:function(){return b({type:"addNumber",value:"2"})}},"2"),i.a.createElement(w,{onClick:function(){return b({type:"addNumber",value:"0"})}},"0")),i.a.createElement(N,null,i.a.createElement(w,{onClick:function(){return b({type:"addNumber",value:"9"})}},"9"),i.a.createElement(w,{onClick:function(){return b({type:"addNumber",value:"6"})}},"6"),i.a.createElement(w,{onClick:function(){return b({type:"addNumber",value:"3"})}},"3"),i.a.createElement(w,{operator:1,onClick:function(){return k({type:"calculate"})}},"=")),i.a.createElement(N,null,i.a.createElement(w,{operator:1,"data-testid":"delete",onClick:function(){b({type:"removeLastDigit"})},onMouseDown:function(){return s(new Date)},onMouseUp:function(){var e;e={type:"clearAll"},(new Date).getTime()-u.getTime()>200&&(g(t.dispatch(e)),h(t.result))}},"DEL"),i.a.createElement(w,{operator:1,onClick:function(){b({type:"addOperator",value:"/"})}},"/"),i.a.createElement(w,{operator:1,onClick:function(){return b({type:"addOperator",value:"*"})}},"X"),i.a.createElement(w,{operator:1,onClick:function(){return b({type:"addNegative",value:"-"})}},"-"),i.a.createElement(w,{operator:1,onClick:function(){return b({type:"addOperator",value:"+"})}},"+"))))};function C(){var e=Object(s.a)(["\n    width: 100%;\n    height: 100%;\n    min-height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: #0f4045;\n"]);return C=function(){return e},e}var T=o.a.div(C());var S=function(){return i.a.createElement(T,null,i.a.createElement(L,null))};n(15),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.53128d0c.chunk.js.map